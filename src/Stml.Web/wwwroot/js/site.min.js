"use strict";(function(){toastr.options.positionClass="toast-bottom-right";$(document).ajaxError(function(){toastr.error("抱歉！服务端发生了未知的错误","错误")});$(".form-group .form-line input.form-control").focusin(function(){var n=$(this);n.parent(".form-line").addClass("focused")}).focusout(function(){var n=$(this);n.val().length<=0&&n.parent(".focused").removeClass("focused")});$('.modal[role="dialog"]').on("shown.bs.modal",function(){$(this).find("input.form-control").first().focus()}).on("hidden.bs.modal",function(){$(this).find("form").clearForm();$(this).find("form").find(".focused").removeClass("focused");$(this).find("form").find("input").iCheck("update")});$.fn.clearForm=function(n){var i=$.extend({formId:this.closest("form")},n),t=$(i.formId);return t.validate().resetForm(),t.find("[data-valmsg-summary=true]").removeClass("validation-summary-errors").addClass("validation-summary-valid").find("ul").empty(),t.find("[data-valmsg-replace]").removeClass("field-validation-error").addClass("field-validation-valid").empty(),t[0].reset(),t};$.get("/Stml/GetUserPermissions",function(n){localStorage.permissions=JSON.stringify(n)});window.user={check:function(n){return localStorage.permissions!=null&&JSON.parse(localStorage.permissions).indexOf(n)>0}}})();